<form class="space-y-6" [formGroup]="group" (ngSubmit)="submit()">
  <div>
    <h2 class="text-xl font-semibold">Budget & d√©lais</h2>
    <p class="text-sm text-slate-500">
      Fourchettes de budget r√©alistes pour cadrer votre projet.
    </p>
  </div>

  <!-- Budget -->
  <div class="rounded-xl border p-4 space-y-3">
    <p class="text-sm font-medium">Quel budget as-tu en t√™te ?</p>

    <!-- Budget standard (non e-commerce) -->
    <div *ngIf="!isEcommerce" class="grid gap-3 text-sm">
      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="400-700" formControlName="range" />
        <div>
          <div class="font-medium">400 ‚Äì 700 ‚Ç¨</div>
          <div class="text-xs text-slate-500">Site vitrine simple, mise en ligne rapide</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="700-1000" formControlName="range" />
        <div>
          <div class="font-medium">700 ‚Äì 1 000 ‚Ç¨</div>
          <div class="text-xs text-slate-500">Vitrine personnalis√©e ou blog basique</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="1000-1500" formControlName="range" />
        <div>
          <div class="font-medium">1 000 ‚Äì 1 500 ‚Ç¨</div>
          <div class="text-xs text-slate-500">Site complet avec quelques fonctionnalit√©s (formulaires, blog...)</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="1500-2500" formControlName="range" />
        <div>
          <div class="font-medium">1 500 ‚Äì 2 500 ‚Ç¨</div>
          <div class="text-xs text-slate-500">Fonctionnalit√©s avanc√©es (booking, forms complexes, int√©grations)</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="gt2500" formControlName="range" />
        <div>
          <div class="font-medium">Plus de 2 500 ‚Ç¨</div>
          <div class="text-xs text-slate-500">Projet complexe ou d√©veloppement sur mesure</div>
        </div>
      </label>
    </div>

    <!-- Budget e-commerce -->
    <div *ngIf="isEcommerce" class="grid gap-3 text-sm">
      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="1500" formControlName="range" />
        <div>
          <div class="font-medium">1 500 ‚Ç¨ (minimum)</div>
          <div class="text-xs text-slate-500">Boutique basique, catalogue simple (< 20 produits)</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="2500" formControlName="range" />
        <div>
          <div class="font-medium">2 500 ‚Ç¨ (moyen)</div>
          <div class="text-xs text-slate-500">E-commerce complet (20-100 produits), paiements multiples</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="3500-plus" formControlName="range" />
        <div>
          <div class="font-medium">3 500 ‚Ç¨ et plus (gros projet)</div>
          <div class="text-xs text-slate-500">Catalogue √©tendu (100+ produits), fonctionnalit√©s avanc√©es, int√©grations</div>
        </div>
      </label>
    </div>

    <p class="mt-1 text-xs text-red-600"
       *ngIf="group.get('range')?.touched && group.get('range')?.invalid">
      Champ requis
    </p>

    <div class="rounded-xl bg-blue-50 p-3 text-sm text-slate-700">
      <strong>üí° Astuce :</strong> Un budget r√©aliste d√®s le d√©part facilite notre proposition et √©vite les malentendus.
    </div>
  </div>

  <!-- D√©lais -->
  <div class="rounded-xl border p-4 space-y-3">
    <p class="text-sm font-medium">Quel est ton d√©lai id√©al ?</p>

    <div class="grid gap-3 sm:grid-cols-2 text-sm">
      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="moins-1m" formControlName="timeline" />
        <div>
          <div class="font-medium">Moins d'1 mois</div>
          <div class="text-xs text-slate-500">Urgent</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="1-2m" formControlName="timeline" />
        <div>
          <div class="font-medium">1 ‚Äì 2 mois</div>
          <div class="text-xs text-slate-500">Planning court</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="3m-plus" formControlName="timeline" />
        <div>
          <div class="font-medium">3 mois et +</div>
          <div class="text-xs text-slate-500">Planning confortable</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="no-deadline" formControlName="timeline" />
        <div>
          <div class="font-medium">Pas de date pr√©cise</div>
          <div class="text-xs text-slate-500">Flexible</div>
        </div>
      </label>
    </div>

    <p class="mt-1 text-xs text-red-600"
       *ngIf="group.get('timeline')?.touched && group.get('timeline')?.invalid">
      Champ requis
    </p>
  </div>

  <div class="flex items-center justify-between">
    <button type="button"
      class="rounded-xl border px-4 py-2 text-sm font-medium hover:bg-slate-50"
      (click)="back.emit()">
      ‚Üê Retour
    </button>

    <button type="submit"
      class="rounded-xl bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800">
      Continuer ‚Üí
    </button>
  </div>
</form>