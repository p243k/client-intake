<form class="space-y-6" [formGroup]="group" (ngSubmit)="submit()">
  <div>
    <h2 class="text-xl font-semibold">Type de projet</h2>
    <p class="text-sm text-slate-500">Cette réponse détermine les questions spécifiques à afficher.</p>
  </div>

  <div class="space-y-3">
    <label class="block text-sm font-medium">Quel type de projet souhaites-tu ?</label>

    <div class="grid gap-3 sm:grid-cols-2">
      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="vitrine" formControlName="type" />
        <div>
          <div class="text-sm font-medium">Site vitrine</div>
          <div class="text-xs text-slate-500">Présentation + contact</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="ecommerce" formControlName="type" />
        <div>
          <div class="text-sm font-medium">E-commerce</div>
          <div class="text-xs text-slate-500">Produits, paiement, livraison</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="blog" formControlName="type" />
        <div>
          <div class="text-sm font-medium">Blog / Média</div>
          <div class="text-xs text-slate-500">Articles, catégories</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="autre" formControlName="type" />
        <div>
          <div class="text-sm font-medium">Autre</div>
          <div class="text-xs text-slate-500">Précise le type</div>
        </div>
      </label>
    </div>

    <p class="mt-1 text-xs text-red-600"
       *ngIf="group.get('type')?.touched && group.get('type')?.invalid">
      Champ requis
    </p>

    <div *ngIf="group.get('type')?.value === 'autre'" class="mt-3">
      <label class="text-sm font-medium">Quel type exactement ?</label>
      <input class="mt-1 w-full rounded-xl border px-3 py-2"
             type="text"
             formControlName="otherTypeLabel"
             placeholder="Ex : application mobile, portail client..." />
      <p class="mt-1 text-xs text-red-600"
         *ngIf="group.get('otherTypeLabel')?.touched && group.get('otherTypeLabel')?.invalid">
        Champ requis
      </p>
    </div>
  </div>

  <!-- Objectif principal -->
  <div class="rounded-xl border p-4 space-y-3">
    <p class="text-sm font-medium">Objectif principal du site</p>

    <div class="grid gap-3 sm:grid-cols-2">
      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="leads" formControlName="goal" />
        <div>
          <div class="text-sm font-medium">Générer des leads</div>
          <div class="text-xs text-slate-500">Contacts / rendez-vous</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="vente" formControlName="goal" />
        <div>
          <div class="text-sm font-medium">Vendre en ligne</div>
          <div class="text-xs text-slate-500">Transactions directes</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="image" formControlName="goal" />
        <div>
          <div class="text-sm font-medium">Image de marque</div>
          <div class="text-xs text-slate-500">Crédibilité / visibilité</div>
        </div>
      </label>

      <label class="flex items-center gap-3 rounded-xl border p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900" type="radio" value="portfolio" formControlName="goal" />
        <div>
          <div class="text-sm font-medium">Portfolio / vitrine</div>
          <div class="text-xs text-slate-500">Présenter mon activité</div>
        </div>
      </label>
    </div>

    <p class="mt-1 text-xs text-red-600"
       *ngIf="group.get('goal')?.touched && group.get('goal')?.invalid">
      Champ requis
    </p>
  </div>

  <!-- Vision de succès -->
  <div class="rounded-xl border bg-slate-50 p-4 space-y-3">
    <label class="text-sm font-medium">
      En une phrase : c'est quoi pour toi un site <span class="italic">réussi</span> pour ce projet ?
    </label>
    <textarea
      class="mt-1 w-full rounded-xl border bg-white px-3 py-2 min-h-[100px]"
      formControlName="successVision"
      placeholder="Ex : Un site qui me fait gagner 5 rdv/mois, ou qui me positionne comme expert dans mon domaine..."
    ></textarea>
    <p class="mt-1 text-xs text-red-600"
       *ngIf="group.get('successVision')?.touched && group.get('successVision')?.invalid">
      Champ requis
    </p>
    <p class="text-xs text-slate-500">
      Cette réponse m'aide à comprendre tes attentes et à te proposer la meilleure solution.
    </p>
  </div>

  <!-- Fonctionnalités clés -->
  <div class="rounded-xl border p-4 space-y-3" [formGroup]="features">
    <p class="text-sm font-medium">Fonctionnalités clés souhaitées (si applicable)</p>

    <div class="grid gap-2 sm:grid-cols-2 text-sm">
      <label class="inline-flex items-center gap-2">
        <input type="checkbox" class="accent-slate-900" formControlName="booking" />
        Prise de rendez-vous
      </label>

      <label class="inline-flex items-center gap-2">
        <input type="checkbox" class="accent-slate-900" formControlName="payment" />
        Paiement en ligne
      </label>

      <label class="inline-flex items-center gap-2">
        <input type="checkbox" class="accent-slate-900" formControlName="blog" />
        Blog / actualités
      </label>

      <label class="inline-flex items-center gap-2">
        <input type="checkbox" class="accent-slate-900" formControlName="memberArea" />
        Espace membre
      </label>

      <label class="inline-flex items-center gap-2">
        <input type="checkbox" class="accent-slate-900" formControlName="multilingual" />
        Multilingue
      </label>
    </div>

    <p class="text-xs text-slate-500">
      Ces fonctionnalités m'aident à évaluer rapidement la complexité et le budget.
    </p>
  </div>

  <div class="flex items-center justify-between">
    <button type="button"
      class="rounded-xl border px-4 py-2 text-sm font-medium hover:bg-slate-50"
      (click)="back.emit()">
      ← Retour
    </button>

    <button type="submit"
      class="rounded-xl bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800">
      Continuer →
    </button>
  </div>
</form>