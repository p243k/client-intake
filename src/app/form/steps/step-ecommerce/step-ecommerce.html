<form class="space-y-6" [formGroup]="group" (ngSubmit)="submit()">
  <div>
    <h2 class="text-xl font-semibold">D√©tails e-commerce</h2>
    <p class="text-sm text-slate-500">Questions produits, paiement, livraison.</p>
  </div>

  <!-- Type de gestion -->
  <div class="rounded-xl border bg-blue-50 p-4 space-y-3">
    <p class="text-sm font-medium">üî∑ Mode de gestion souhait√©</p>

    <div class="grid gap-3 text-sm">
      <label class="flex items-start gap-3 rounded-xl border bg-white p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900 mt-0.5" type="radio" value="cle-en-main" formControlName="managementType" />
        <div>
          <div class="font-medium">Solution cl√© en main</div>
          <div class="text-xs text-slate-600">Meraki g√®re le stock et les envois pour vous</div>
        </div>
      </label>

      <label class="flex items-start gap-3 rounded-xl border bg-white p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900 mt-0.5" type="radio" value="autonome" formControlName="managementType" />
        <div>
          <div class="font-medium">Je g√®rerai moi-m√™me</div>
          <div class="text-xs text-slate-600">Stock et exp√©ditions sous votre contr√¥le</div>
        </div>
      </label>

      <label class="flex items-start gap-3 rounded-xl border bg-white p-3 hover:bg-slate-50 cursor-pointer">
        <input class="accent-slate-900 mt-0.5" type="radio" value="a-definir" formControlName="managementType" />
        <div>
          <div class="font-medium">√Ä d√©finir ensemble</div>
          <div class="text-xs text-slate-600">On en discute selon vos besoins</div>
        </div>
      </label>
    </div>
  </div>

  <div class="grid gap-4 sm:grid-cols-2">
    <div class="sm:col-span-2">
      <label class="text-sm font-medium">Nombre approximatif de produits</label>
      <select class="mt-1 w-full rounded-xl border px-3 py-2" formControlName="productCount">
        <option value="">‚Äî Choisir ‚Äî</option>
        <option value="0-10">0‚Äì10</option>
        <option value="10-50">10‚Äì50</option>
        <option value="50-100">50‚Äì100</option>
        <option value="100+">100+</option>
      </select>
      <p class="mt-1 text-xs text-red-600"
         *ngIf="group.get('productCount')?.touched && group.get('productCount')?.invalid">
        Champ requis
      </p>
    </div>

    <div class="sm:col-span-2 rounded-xl border p-4 space-y-3" [formGroup]="payments">
      <p class="text-sm font-medium">Moyens de paiement souhait√©s</p>

      <div class="grid gap-2 sm:grid-cols-2 text-sm">
        <label class="inline-flex items-center gap-2">
          <input type="checkbox" class="accent-slate-900" formControlName="cb" />
          CB
        </label>
        <label class="inline-flex items-center gap-2">
          <input type="checkbox" class="accent-slate-900" formControlName="paypal" />
          PayPal
        </label>
        <label class="inline-flex items-center gap-2">
          <input type="checkbox" class="accent-slate-900" formControlName="stripe" />
          Stripe
        </label>
        <label class="inline-flex items-center gap-2">
          <input type="checkbox" class="accent-slate-900" formControlName="other" />
          Autre
        </label>
      </div>

      <div *ngIf="payments.get('other')?.value === true">
        <label class="text-sm font-medium">Pr√©cise l'autre moyen</label>
        <input class="mt-1 w-full rounded-xl border px-3 py-2" formControlName="otherLabel" />
        <p class="mt-1 text-xs text-red-600"
           *ngIf="payments.get('otherLabel')?.touched && payments.get('otherLabel')?.invalid">
          Champ requis
        </p>
      </div>
    </div>

    <div class="sm:col-span-2 rounded-xl border p-4 space-y-3">
      <p class="text-sm font-medium">Livres-tu seulement en France ?</p>
      <div class="flex gap-4 text-sm">
        <label class="inline-flex items-center gap-2">
          <input type="radio" class="accent-slate-900" [value]="true" formControlName="shipsFranceOnly" />
          Oui
        </label>
        <label class="inline-flex items-center gap-2">
          <input type="radio" class="accent-slate-900" [value]="false" formControlName="shipsFranceOnly" />
          Non
        </label>
      </div>

      <div *ngIf="group.get('shipsFranceOnly')?.value === false">
        <label class="text-sm font-medium">Quels pays ?</label>
        <textarea class="mt-1 w-full rounded-xl border px-3 py-2 min-h-[90px]"
                  formControlName="countries"
                  placeholder="Ex: Belgique, Suisse, Luxembourg..."></textarea>
        <p class="mt-1 text-xs text-red-600"
           *ngIf="group.get('countries')?.touched && group.get('countries')?.invalid">
          Champ requis
        </p>
      </div>
    </div>
  </div>

  <div class="flex items-center justify-between">
    <button type="button"
      class="rounded-xl border px-4 py-2 text-sm font-medium hover:bg-slate-50"
      (click)="back.emit()">
      ‚Üê Retour
    </button>

    <button type="submit"
      class="rounded-xl bg-slate-900 px-4 py-2 text-sm font-medium text-white hover:bg-slate-800">
      Continuer ‚Üí
    </button>
  </div>
</form>